<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>Task Progress Monitor</title>
    <style>
        .timer{
            width: 190px;
            height: 40px;
        }
        #output {
            width:500px;
            background: rgb(3, 24, 30);
            height: 300px;
            overflow: scroll;
        }

        .msg{
            width: 100%;
            height: 20%;
            background: gainsboro;
            margin-left: auto;
            margin-top: 5px;
            border-radius: 10px;
            padding: 10px;
            box-sizing: border-box;
        }


        /* .msg:nth-child(even) {
            background: pink;
            width: 40%;
            padding: 10px;
            border-radius: 10px;
        } */
    </style>
</head>

<body>
    <h1>é€²æ—çŠ¶æ³ãƒ¢ãƒ‹ã‚¿ãƒ¼</h1>
    <div>
        <div>
            <span>ãƒˆã‚¤ãƒ¬æƒé™¤</span>
            <!-- <button id="sWash" class="timer">é–‹å§‹</button>            
            <div id="sWashTime">ï½“ï½“ï½“</div>
            <button id="eWash" class="timer">çµ‚äº†</button>
            <div id="eWashTime">ï½†ï½†ï½†</div> -->
        </div>

        <table>
            <tr>
                <td><button id="sWash" class="timer">é–‹å§‹</button> </td>
                <td><button id="eWash" class="timer">çµ‚äº†</button></td>
                <td></td>        
            </tr>
            <tr>
                <td><div id="sWashTime"></div></td>
                <td><div id="eWashTime"></div></td>
                <td><div id="WashStatus">Ã—ã€€æœªç€æ‰‹</div></td>
                <td><div id="WashTotalTime"></div></td>
            </tr>            
        </table>

        <div>
            <br><span>æ´—æ¿¯</span>
        </div>
        <table>
            <tr>
                <td><button id="sLaundry" class="timer">é–‹å§‹</button> </td>
                <td><button id="eLaundry" class="timer">çµ‚äº†</button></td>
                <td></td>        
            </tr>
            <tr>
                <td><div id="sLaundryTime"></div></td>
                <td><div id="eLaundryTime"></div></td>
                <td><div id="LaundryStatus">Ã—ã€€æœªç€æ‰‹</div></td>
                <td><div id="LaundryTotalTime"></div></td>
            </tr>            
        </table>

        <div>
            <br><span>çŠ¬ã®æ•£æ­©</span>
        </div>

        <table>
            <tr>
                <td><button id="sDog" class="timer">é–‹å§‹</button> </td>
                <td><button id="eDog" class="timer">çµ‚äº†</button></td>
                <td></td>        
            </tr>
            <tr>
                <td><div id="sDogTime"></div></td>
                <td><div id="eDogTime"></div></td>
                <td><div id="DogStatus">Ã—ã€€æœªç€æ‰‹</div></td>
                <td><div id="DogTotalTime"></div></td>
            </tr>            
        </table>
        <br>
        <table>
            <tr>
                <td><button id="reset" class="timer">ãƒªã‚»ãƒƒãƒˆ<br>ï¼ˆç¿Œæœæœ€åˆã«æŠ¼ã™æƒ³å®šï¼‰</button> </td>
            </tr>         
        </table>
        <br>
        <table>
            <tr>
                <td>å±¥æ­´</td>        
            </tr>         
        </table>
    </div>

    <div id="output"></div>

   
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
        import {
                getDatabase,
                ref,
                child,
                push,
                set,
                get,
                onChildAdded,
                remove,
                onChildRemoved,
                serverTimestamp,
                onValue,
                query,
                orderByChild,
                }  from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
         




            
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        const db = getDatabase(app);

        // ç®±ã®åå‰ã‚’æ±ºã‚ã‚‹
        const sWashdb = ref(db, 'startWashroom');
        const eWashdb = ref(db, 'endWashroom');        
        const sLaundrydb = ref(db, 'startLaundry');
        const eLaundrydb = ref(db, 'endLaundry');        
        const sDogdb = ref(db, 'startDog');
        const eDogdb = ref(db, 'endDog');
        const record = ref(db, 'record');
                
// ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€æŠ¼ã—ãŸæ™‚é–“ã‚’è¨˜éŒ²ã€‚åŒæ™‚ã«å±¥æ­´DBã«ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã‚‹é–¢æ•°ã€‚
        function timeRecord(id,key, dbname, taskname){
        $(id).on('click', function () {
            key = {
                date: serverTimestamp(),
            }
            // const newPostRef = push(dbRef); ä¼šè©±å±¥æ­´ã‚’æ®‹ã™ã‚ã‘ã§ã¯ãªã„ã®ã§ã€å›ºæœ‰IDã¯ä½¿ç”¨ã›ãš
            set(dbname, key);

            let keyForRecord = {
                date: serverTimestamp(),
                task: taskname,
            }
            const newPostRef = push(record); // å±¥æ­´ã‚’æ®‹ã™ã®ã§å›ºæœ‰IDã‚’åˆ©ç”¨
            set(newPostRef, keyForRecord);
        });
        }
        
        let startwash;
        let endwash;
        let startlaundry;
        let endlaundry;
        let startdog;
        let enddog;

        timeRecord('#sWash', startwash, sWashdb,'startwash');    
        timeRecord('#eWash', endwash, eWashdb,'endwash');
        timeRecord('#sLaundry', startlaundry, sLaundrydb,'startlaundry');    
        timeRecord('#eLaundry', endlaundry, eLaundrydb,'endlaundry');
        timeRecord('#sDog', startdog, sDogdb,'startdog');    
        timeRecord('#eDog', enddog, eDogdb,'enddog');
////////////////////////////////////////////////////////////////////////////////////////
        
// ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³é–¢é€£
        // DBã‹ã‚‰ã®æ¶ˆå»å‡¦ç†
        $('#reset').on('click', function () {
            remove(sWashdb); 
            remove(eWashdb); 
            remove(sLaundrydb); 
            remove(eLaundrydb); 
            remove(sDogdb); 
            remove(eDogdb); 
        });
        
        // setTimeout(window.location.reload(),5000);
        // ã™ã¹ã¦ã®å‰Šé™¤ãŒçµ‚ã‚ã‚‹å‰ã«ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã‚ˆã†ã§ã€è¡¨ç¤ºãŒæ¶ˆãˆåˆ‡ã‚‰ãªã„ãŸã‚ã€jQueryã§æ¶ˆã™ã“ã¨ã«ã™ã‚‹ã€‚
        // ãŸã ã—ã€jQueryã§å‡¦ç†ã™ã‚‹ã¨ã€åˆ¥ã§ç«‹ã¡ä¸Šã’ãŸäººã®ç”»é¢ä¸Šã¯å‡¦ç†ãŒåæ˜ ã•ã‚Œãªã„ã€‚ãªã®ã§ã€onChildRemovedã‚’åˆ©ç”¨ã€‚

        // ãƒªã‚»ãƒƒãƒˆã—ãŸå ´åˆã®è¡¨ç¤ºæ¶ˆå»å‡¦ç†
        function initialzation(dbname, startid, endid, servicestatus){
            onChildRemoved(dbname,function(){
                $(startid).text('');
                $(endid).text('');
                $(servicestatus).text('Ã—ã€€æœªç€æ‰‹');
            });
        }

        initialzation(sWashdb, "#sWashTime", "#eWashTime", '#WashStatus');
        initialzation(sLaundrydb, "#sLaundryTime", "#eLaundryTime", '#LaundryStatus');
        initialzation(sDogdb, "#sDogTime", "#eDogTime", '#DogStatus');
        ////////////////////////////////////////////////////////////////////////////////////////
        

        
//  ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸéš›ã®è¡¨ç¤ºå‡¦ç†
        
        let washtimeStart;
        let washtimeEnd;
        let laundrytimeStart;
        let laundrytimeEnd;
        let dogtimeStart;
        let dogtimeEnd;
        

        function timeUpdate (dbName, idTime, idStatus, textStatus, idAnother, anotherStatus){
            onValue(dbName,function(data){
                let timeName = new Date(data.val().date);
                let month = timeName.getMonth() + 1;
                let day = timeName.getDate(); 
                let hour = timeName.getHours();
                let min = timeName.getMinutes();
                let sec = timeName.getSeconds();   
                let timeJPform = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
                
                $(idTime).text(timeJPform);
                $(idStatus).text(textStatus);
                $(idAnother).text(anotherStatus);
                });
        }
        
        
        // oné–¢æ•°ã®ä¸­ã®ä¸–ç•Œã¯ã€åˆ†æ–­ã•ã‚Œã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œãªã„ã€‚ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã§ã‚ã£ã¦ã‚‚ã€å¤–ã‹ã‚‰å‘¼ã‚“ã§ã‚‚åå¿œã—ãªã„ã€‚
        console.log(washtimeStart);
        // ãŸã ã—ã€ä»–ã®oné–¢æ•°ã®ä¸­ã§ã¯åå¿œã™ã‚‹
        // DBã®ç‰¹å®šã®å ´æ‰€ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒã†ã¾ãè¡Œã‹ãªã‹ã£ãŸã¨ã„ã†ã“ã¨ã‚‚è¦å› 
        // onValueã®ä¸­ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«é£›ã°ãã†ã¨ã—ãŸãŒã€ãã‚Œã‚‚ã†ã¾ãè¡Œã‹ãªã„ã€‚        
        // çµæœã¨ã—ã¦ã€æ‰€è¦æ™‚é–“è¨ˆç®—ç”¨ã®æ™‚é–“ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒå¿…è¦ã¨ãªã£ãŸã®ã§ã€åˆ¥é€”ã€onValueé–¢æ•°ã‚’ä½œæˆã™ã‚‹ã“ã¨ã«ã—ãŸ

        onValue(sWashdb,function(data){
            const sWashTr = new Date(data.val().date);
            washtimeStart = sWashTr;
        });
        onValue(eWashdb,function(data){
            const eWashTr = new Date(data.val().date);
            washtimeEnd = eWashTr;             ;
            let washHourDif = Math.floor((washtimeEnd-washtimeStart)/1000/60/60%24);
            let washMinDif = Math.floor((washtimeEnd-washtimeStart)/1000/60%60);
            let washSecDif = Math.floor((washtimeEnd-washtimeStart)/1000%60);
            $('#WashTotalTime').text('(æ‰€è¦æ™‚é–“ï¼š'+washHourDif+'æ™‚é–“'+washMinDif+'åˆ†'+washSecDif+'ç§’ï¼‰');           
        });

        onValue(sLaundrydb,function(data){
            const sLaundryTr = new Date(data.val().date);
            laundrytimeStart = sLaundryTr;
        });
        onValue(eLaundrydb,function(data){
            const eLaundryTr = new Date(data.val().date);
            laundrytimeEnd = eLaundryTr;             ;
            let laundryHourDif = Math.floor((laundrytimeEnd-laundrytimeStart)/1000/60/60%24);
            let laundryMinDif = Math.floor((laundrytimeEnd-laundrytimeStart)/1000/60%60);
            let laundrySecDif = Math.floor((laundrytimeEnd-laundrytimeStart)/1000%60);
            $('#LaundryTotalTime').text('(æ‰€è¦æ™‚é–“ï¼š'+laundryHourDif+'æ™‚é–“'+laundryMinDif+'åˆ†'+laundrySecDif+'ç§’ï¼‰');           
        });

        onValue(sDogdb,function(data){
            const sDogTr = new Date(data.val().date);
            dogtimeStart = sDogTr;
        });
        onValue(eDogdb,function(data){
            const eDogTr = new Date(data.val().date);
            dogtimeEnd = eDogTr;             ;
            let dogHourDif = Math.floor((dogtimeEnd-dogtimeStart)/1000/60/60%24);
            let dogMinDif = Math.floor((dogtimeEnd-dogtimeStart)/1000/60%60);
            let dogSecDif = Math.floor((dogtimeEnd-dogtimeStart)/1000%60);
            $('#DogTotalTime').text('(æ‰€è¦æ™‚é–“ï¼š'+dogHourDif+'æ™‚é–“'+dogMinDif+'åˆ†'+dogSecDif+'ç§’ï¼‰');           
        });


        timeUpdate(sWashdb, "#sWashTime",'#WashStatus', 'ã€‡ã€€é€²è¡Œä¸­',"#eWashTime",'' );
        timeUpdate(eWashdb, "#eWashTime",'#WashStatus', 'â†’ã€€å®Œäº†ï¼');
        timeUpdate(sLaundrydb, "#sLaundryTime",'#LaundryStatus', 'ã€‡ã€€é€²è¡Œä¸­',"#eLaundryTime",'' );
        timeUpdate(eLaundrydb, "#eLaundryTime",'#LaundryStatus', 'â†’ã€€å®Œäº†ï¼');
        timeUpdate(sDogdb, "#sDogTime",'#DogStatus', 'ã€‡ã€€é€²è¡Œä¸­',"#eDogTime",'' );
        timeUpdate(eDogdb, "#eDogTime",'#DogStatus', 'â†’ã€€å®Œäº†ï¼');
        ////////////////////////////////////////////////////////////////////////////////////////
        

        
//  å±¥æ­´ç”¨ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºå‡¦ç†
        onChildAdded(record, function (data) {            
            const msg = data.val();

            let h = `
                <div class="msg">
                    <p>${new Date(msg.date)}</p>
                    <p>${msg.task}</p>
                </div>    
            `;

            $("#output").append(h);
            const output = document.getElementById('output');
            output.scrollTo(0, output.scrollHeight);
        })

        ////////////////////////////////////////////////////////////////////////////////////////
        

// onvalueã¯æ–°è¦å«ã‚ã¦åå¿œã™ã‚‹ãŸã‚ã€newã‚’è¨­å®šã™ã‚‹å¿…è¦ã¯ãªã‹ã£ãŸ

        // function timePrintNew (dbName, timeName, idTime, idStatus, textStatus){
        //     onChildAdded(dbName,function(data){
        //         timeName = new Date(data.val());
        //         month = timeName.getMonth() + 1;
        //         day = timeName.getDate(); 
        //         hour = timeName.getHours();
        //         min = timeName.getMinutes();
        //         sec = timeName.getSeconds();   
        //         timeName = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
                
        //         $(idTime).text(timeName);
        //         $(idStatus).text(textStatus);

        //         console.log(data.val());

        //         return data.val();
                
        //         // console.log(data.val());
        //         // ã“ã“ã«returnã‚’å…¥ã‚Œã¦ã‚‚undefinedã¨ãªã‚‹
        //     });

        //    ã“ã“ã«Returnã‚’å…¥ã‚Œã‚‹ã¨åå¿œã™ã‚‹
        // }

        // timePrintNew(sWashdb, washtimeStart,"#sWashTime",'#WashStatus', 'é€²è¡Œä¸­');
        // timePrintNew(eWashdb, washtimeEnd,"#eWashTime",'#WashStatus', 'å®Œäº†(æ‰€è¦æ™‚é–“ï¼š'+washMinDif+'åˆ†'+washSecDif+'ç§’ï¼‰');
        

// é–¢æ•°ãŒé–“é•ã£ã¦ã„ãŸã®ã‹ã‚‚ã—ã‚Œãªã„ãŒã€ã†ã¾ããƒ‡ãƒ¼ã‚¿ã‚’æŒã¡å‡ºã›ãªããªã‚Šã€é–¢æ•°åŒ–ã‚’æ–­å¿µã€‚ï¼ˆæœ€çµ‚çš„ã«ã¯ä¸€éƒ¨æ©Ÿèƒ½ã¯é–¢æ•°åŒ–ï¼‰
        // function timePrintUpdate (dbName, timeName, idTime, idStatus, textStatus, idAnother, anotherStatus){
        //     onValue(dbName,function(data){
        //         timeName = new Date(data.val().date);
        //         month = timeName.getMonth() + 1;
        //         day = timeName.getDate(); 
        //         hour = timeName.getHours();
        //         min = timeName.getMinutes();
        //         sec = timeName.getSeconds();   
        //         let timeJPform = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
                
        //         $(idTime).text(timeJPform);
        //         $(idStatus).text(textStatus);
        //         $(idAnother).text(anotherStatus);
                
        //         // console.log(data.val().date);
        //         // return data.val().date;ã€€ã“ã“ã«returnã‚’å…¥ã‚Œã¦ã‚‚undefinedã¨ãªã‚‹
        //         });
        // returnã‚’å…¥ã‚Œã‚‹ãªã‚‰ã“ã“ã€‚
        // }

        
        // let washMinDif = Math.floor((washtimeEnd-washtimeStart)/1000/60%60);
        // let washSecDif = Math.floor((washtimeEnd-washtimeStart)/1000%60);

        // timePrintUpdate(sWashdb, washtimeStart,"#sWashTime",'#WashStatus', 'é€²è¡Œä¸­',"#eWashTime",'' );
        // timePrintUpdate(eWashdb, washtimeEnd,"#eWashTime",'#WashStatus', 'å®Œäº†(æ‰€è¦æ™‚é–“ï¼š'+washMinDif+'åˆ†'+washSecDif+'ç§’ï¼‰');


// é–¢æ•°åŒ–å‰ã®æ®‹éª¸

        // onValue(sWashdb,function(data){
        //     const sWashTr = new Date(data.val().date);
        //     washtimeStart = sWashTr;
        //     let month = sWashTr.getMonth() + 1;
        //     let day = sWashTr.getDate(); 
        //     let hour = sWashTr.getHours();
        //     let min = sWashTr.getMinutes();
        //     let sec = sWashTr.getSeconds();   
        //     let swashThs = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
            
        //     $("#sWashTime").text(swashThs);          
        //     $('#WashStatus').text('ã€‡ã€€é€²è¡Œä¸­');
        //     $("#eWashTime").text('');

        // });

        
        
        

        // onValue(sLaundrydb,function(data){
        //     const sLaundryTr = new Date(data.val().date);
        //     // console.log(data.val().date);
        //     laundrytimeStart = sLaundryTr;
        //     let month = sLaundryTr.getMonth() + 1;
        //     let day = sLaundryTr.getDate(); 
        //     let hour = sLaundryTr.getHours();
        //     let min = sLaundryTr.getMinutes();
        //     let sec = sLaundryTr.getSeconds();   
        //     let slaundryThs = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
            
        //     // console.log(swashTrs);
        //     $("#sLaundryTime").text(slaundryThs);          
        //     $('#LaundryStatus').text('ã€‡ã€€é€²è¡Œä¸­');
        //     $("#eLaundryTime").text('');

        // });

        // onValue(eLaundrydb,function(data){
        //     const eLaundryTr = new Date(data.val().date);
        //     laundrytimeEnd = eLaundryTr;   
        //     console.log=(laundrytimeEnd);
        //     let month = eLaundryTr.getMonth() + 1;
        //     let day = eLaundryTr.getDate(); 
        //     let hour = eLaundryTr.getHours();
        //     let min = eLaundryTr.getMinutes();
        //     let sec = eLaundryTr.getSeconds();   
        //     let eLaundryTrs = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
        //     $("#eLaundryTime").text(eLaundryTrs);
            
        //     let laundryHourDif = Math.floor((laundrytimeEnd-laundrytimeStart)/1000/60/60%24);
        //     let laundryMinDif = Math.floor((laundrytimeEnd-laundrytimeStart)/1000/60%60);
        //     let laundrySecDif = Math.floor((laundrytimeEnd-laundrytimeStart)/1000%60);
        //     $('#LaundryStatus').text('â†’ã€€å®Œäº†ï¼(æ‰€è¦æ™‚é–“ï¼š'+laundryHourDif+'æ™‚é–“'+laundryMinDif+'åˆ†'+laundrySecDif+'ç§’ï¼‰');

        // });


        // onValue(sDogdb,function(data){
        //     const sDogTr = new Date(data.val().date);
        //     // console.log(data.val().date);
        //     dogtimeStart = sDogTr;
        //     let month = sDogTr.getMonth() + 1;
        //     let day = sDogTr.getDate(); 
        //     let hour = sDogTr.getHours();
        //     let min = sDogTr.getMinutes();
        //     let sec = sDogTr.getSeconds();   
        //     let sdogThs = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
            
        //     // console.log(swashTrs);
        //     $("#sDogTime").text(sdogThs);          
        //     $('#DogStatus').text('ã€‡ã€€é€²è¡Œä¸­');
        //     $("#eDogTime").text('');

        // });

        // onValue(eDogdb,function(data){
        //     const eDogTr = new Date(data.val().date);
        //     dogtimeEnd = eDogTr;   
        //     console.log=(dogtimeEnd);
        //     let month = eDogTr.getMonth() + 1;
        //     let day = eDogTr.getDate(); 
        //     let hour = eDogTr.getHours();
        //     let min = eDogTr.getMinutes();
        //     let sec = eDogTr.getSeconds();   
        //     let eDogTrs = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
        //     $("#eDogTime").text(eDogTrs);
            
        //     let dogHourDif = Math.floor((dogtimeEnd-dogtimeStart)/1000/60/60%24);
        //     let dogMinDif = Math.floor((dogtimeEnd-dogtimeStart)/1000/60%60);
        //     let dogSecDif = Math.floor((dogtimeEnd-dogtimeStart)/1000%60);
        //     $('#DogStatus').text('â†’ã€€å®Œäº†ï¼(æ‰€è¦æ™‚é–“ï¼š'+dogHourDif+'æ™‚é–“'+dogMinDif+'åˆ†'+dogSecDif+'ç§’ï¼‰');

        // });

         
        
        

        
        
        // console.log(timePrintNew(sWashdb, washtimeStart,"#sWashTime",'#WashStatus', 'é€²è¡Œä¸­'));


        // $('#sWash').on('click', function () {
        //     let startwash = {
        //         date: serverTimestamp(),
        //                     }
        //     // const newPostRef = push(dbRef); ä¼šè©±å±¥æ­´ã‚’æ®‹ã™ã‚ã‘ã§ã¯ãªã„ã®ã§ã€å›ºæœ‰IDã¯ä½¿ç”¨ã›ãš
        //     set(sWashdb, startwash); // firebaseã®ç™»éŒ²ã§ãã‚‹å ´æ‰€ã«ä¿å­˜ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ğŸ¤—
        // });

        // $('#eWash').on('click', function () {
        //     const endwash = {
        //         date: serverTimestamp(), 
        //                     }
        //     // const newPostRef = push(dbRef); //ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã§ãã‚‹æº–å‚™
        //     set(eWashdb, endwash); // firebaseã®ç™»éŒ²ã§ãã‚‹å ´æ‰€ã«ä¿å­˜ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ğŸ¤—
        // });

        // onChildAdded(sWashdb,function(data){
        //     washtimeStart = new Date(data.val());
        //     month = washtimeStart.getMonth() + 1;
        //     day = washtimeStart.getDate(); 
        //     hour = washtimeStart.getHours();
        //     min = washtimeStart.getMinutes();
        //     sec = washtimeStart.getSeconds();   
        //     washtimeStart = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
            
        //     $("#sWashTime").text(washtimeStart);
        //     $('#WashStatus').text('é€²è¡Œä¸­');

        // });



        // onChildAdded(eWashdb,function(data){
        //     const eWashT = new Date(data.val());    
        //     washtimeEnd = eWashT;
        //     let month = eWashT.getMonth() + 1;
        //     let day = eWashT.getDate(); 
        //     let hour = eWashT.getHours();
        //     let min = eWashT.getMinutes();
        //     let sec = eWashT.getSeconds();   
        //     let eWashTs = month+'æœˆ'+day+'æ—¥'+hour+'æ™‚'+min+'åˆ†'+sec+'ç§’'
            
        //     $("#eWashTime").text(eWashTs);
            
        //     // console.log(Math.floor((timee-times)/1000/60%60));
        //     // console.log(Math.floor((timee-times)/1000%60));
        //     washMinDif = Math.floor((washtimeEnd-washtimeStart)/1000/60%60);
        //     washSecDif = Math.floor((washtimeEnd-washtimeStart)/1000%60);
        //     $('#WashStatus').text('å®Œäº†(æ‰€è¦æ™‚é–“ï¼š'+washMinDif+'åˆ†'+washSecDif+'ç§’ï¼‰');
        // });


        


    </script>

<!-- <script src="js/main.js"></script> -->
</body>

</html>